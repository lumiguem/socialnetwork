{"ast":null,"code":"var _s = $RefreshSig$();\nimport { EditOutlined, DeleteOutlined, AttachFileOutlined, GiftBoxOutlined, ImageOutlined, MicOutlined, MoreHorizOutlined } from \"@mui/icons-material\";\nimport { Box, Divider, Typography, InputBase, useTheme, Button, IconButton, useMediaQuery } from \"@mui/material\";\nimport FlexBetween from \"components/FlexBetween\";\nimport UserImage from \"components/UserImage\";\nimport WidgetWrapper from \"components/WidgetWrapper\";\nimport { useState } from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setPosts } from \"state\";\nconst MyPostWidget = ({\n  picturePath\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const [isImage, setIsImage] = useState(false);\n  const [image, setImage] = useState(null);\n  const [post, setPost] = useState(\"\");\n  const {\n    palette\n  } = useTheme();\n  const {\n    _id\n  } = useSelector(state = state.user);\n  const token = useSelector(state => state.token);\n  const isNonMobileScreens = useMediaQuery(\"(min-width:1000px)\");\n  const mediumMain = palette.neutral.mediumMain;\n  const medium = palette.neutral.medium;\n  const handlePost = async () => {\n    const formData = new FormData();\n    formData.append(\"userId\", _id);\n    formData.append(\"description\", post);\n    if (image) {\n      formData.append(\"picture\", image);\n      formData.append(\"picturePath\", image.name);\n    }\n    const response = await fetch(`http://localhost:3001/posts`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: formData\n    });\n    const posts = await response.json();\n    dispatch(setPosts({\n      posts\n    }));\n    setImage(null);\n    setPost(\"\");\n  };\n};\n_s(MyPostWidget, \"MZpTfs01x4j3tCwt4oJPnSQp7Z4=\", false, function () {\n  return [useDispatch, useTheme, useSelector, useSelector, useMediaQuery];\n});\n_c = MyPostWidget;\nvar _c;\n$RefreshReg$(_c, \"MyPostWidget\");","map":{"version":3,"names":["EditOutlined","DeleteOutlined","AttachFileOutlined","GiftBoxOutlined","ImageOutlined","MicOutlined","MoreHorizOutlined","Box","Divider","Typography","InputBase","useTheme","Button","IconButton","useMediaQuery","FlexBetween","UserImage","WidgetWrapper","useState","Dropzone","useDispatch","useSelector","setPosts","MyPostWidget","picturePath","_s","dispatch","isImage","setIsImage","image","setImage","post","setPost","palette","_id","state","user","token","isNonMobileScreens","mediumMain","neutral","medium","handlePost","formData","FormData","append","name","response","fetch","method","headers","Authorization","body","posts","json","_c","$RefreshReg$"],"sources":["C:/Users/DIEGO JULCAMORO/Desktop/web dev/proyectos/social-media/client/src/scenes/widgets/MyPostWidget.jsx"],"sourcesContent":["import {\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  AttachFileOutlined,\r\n  GiftBoxOutlined,\r\n  ImageOutlined,\r\n  MicOutlined,\r\n  MoreHorizOutlined,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Divider,\r\n  Typography,\r\n  InputBase,\r\n  useTheme,\r\n  Button,\r\n  IconButton,\r\n  useMediaQuery,\r\n} from \"@mui/material\";\r\nimport FlexBetween from \"components/FlexBetween\";\r\nimport UserImage from \"components/UserImage\";\r\nimport WidgetWrapper from \"components/WidgetWrapper\";\r\nimport { useState } from \"react\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setPosts } from \"state\";\r\n\r\nconst MyPostWidget = ({ picturePath }) => {\r\n  const dispatch = useDispatch();\r\n  const [isImage, setIsImage] = useState(false);\r\n  const [image, setImage] = useState(null);\r\n  const [post, setPost] = useState(\"\");\r\n  const { palette } = useTheme();\r\n  const { _id } = useSelector((state = state.user));\r\n  const token = useSelector((state) => state.token);\r\n  const isNonMobileScreens = useMediaQuery(\"(min-width:1000px)\");\r\n  const mediumMain = palette.neutral.mediumMain;\r\n  const medium = palette.neutral.medium;\r\n\r\n  const handlePost = async () => {\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", _id);\r\n    formData.append(\"description\", post);\r\n    if (image) {\r\n      formData.append(\"picture\", image);\r\n      formData.append(\"picturePath\", image.name);\r\n    }\r\n\r\n    const response = await fetch(`http://localhost:3001/posts`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      body: formData,\r\n    });\r\n    const posts = await response.json();\r\n    dispatch(setPosts({ posts }));\r\n    setImage(null);\r\n    setPost(\"\");\r\n  };\r\n};\r\n"],"mappings":";AAAA,SACEA,YAAY,EACZC,cAAc,EACdC,kBAAkB,EAClBC,eAAe,EACfC,aAAa,EACbC,WAAW,EACXC,iBAAiB,QACZ,qBAAqB;AAC5B,SACEC,GAAG,EACHC,OAAO,EACPC,UAAU,EACVC,SAAS,EACTC,QAAQ,EACRC,MAAM,EACNC,UAAU,EACVC,aAAa,QACR,eAAe;AACtB,OAAOC,WAAW,MAAM,wBAAwB;AAChD,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,aAAa,MAAM,0BAA0B;AACpD,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM;IAAEe;EAAQ,CAAC,GAAGtB,QAAQ,CAAC,CAAC;EAC9B,MAAM;IAAEuB;EAAI,CAAC,GAAGb,WAAW,CAAEc,KAAK,GAAGA,KAAK,CAACC,IAAK,CAAC;EACjD,MAAMC,KAAK,GAAGhB,WAAW,CAAEc,KAAK,IAAKA,KAAK,CAACE,KAAK,CAAC;EACjD,MAAMC,kBAAkB,GAAGxB,aAAa,CAAC,oBAAoB,CAAC;EAC9D,MAAMyB,UAAU,GAAGN,OAAO,CAACO,OAAO,CAACD,UAAU;EAC7C,MAAME,MAAM,GAAGR,OAAO,CAACO,OAAO,CAACC,MAAM;EAErC,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEX,GAAG,CAAC;IAC9BS,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEd,IAAI,CAAC;IACpC,IAAIF,KAAK,EAAE;MACTc,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEhB,KAAK,CAAC;MACjCc,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEhB,KAAK,CAACiB,IAAI,CAAC;IAC5C;IAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4B,EAAE;MAC1DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASd,KAAM;MAAE,CAAC;MAC7Ce,IAAI,EAAET;IACR,CAAC,CAAC;IACF,MAAMU,KAAK,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACnC5B,QAAQ,CAACJ,QAAQ,CAAC;MAAE+B;IAAM,CAAC,CAAC,CAAC;IAC7BvB,QAAQ,CAAC,IAAI,CAAC;IACdE,OAAO,CAAC,EAAE,CAAC;EACb,CAAC;AACH,CAAC;AAACP,EAAA,CA/BIF,YAAY;EAAA,QACCH,WAAW,EAIRT,QAAQ,EACZU,WAAW,EACbA,WAAW,EACEP,aAAa;AAAA;AAAAyC,EAAA,GARpChC,YAAY;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}